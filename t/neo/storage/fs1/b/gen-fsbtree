#!/bin/sh -e
# generate b.Tree with compile-time KEY & VALUE
b=github.com/cznic/b
Bdir=`go list -f '{{.Dir}}' $b`
Brev=`cd $Bdir && git describe --always`
out=fsbtree.go

KEY=Oid
VALUE=uint64

echo "// DO NOT EDIT - AUTOGENERATED (by gen-fsbtree from $b $Brev)" >$out
echo "// KEY=$KEY  VALUE=$VALUE" >>$out
echo "// ---- 8< ----" >>$out
echo >>$out
make -s -C $Bdir generic |sed -e 's/KEY/Oid/g' -e 's/VALUE/uint64/g' >>$out
